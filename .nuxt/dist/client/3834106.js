(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{337:function(t,e,r){var content=r(390);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(6).default)("d84ba9a0",content,!0,{sourceMap:!1})},389:function(t,e,r){"use strict";r(337)},390:function(t,e,r){(e=r(5)(!1)).push([t.i,"[dir=ltr] .library__title[data-v-5ee3beac],[dir=ltr] .title-bordered[data-v-5ee3beac],[dir=ltr] .title-default[data-v-5ee3beac]{text-align:left}[dir=rtl] .library__title[data-v-5ee3beac],[dir=rtl] .title-bordered[data-v-5ee3beac],[dir=rtl] .title-default[data-v-5ee3beac]{text-align:right}.library__title[data-v-5ee3beac],.title-bordered[data-v-5ee3beac],.title-default[data-v-5ee3beac]{color:#1f1f23;width:100%;height:48px;font-size:16px;font-weight:700;display:flex;align-items:center;text-transform:uppercase;padding:14px 0 0}.title-cut[data-v-5ee3beac]{display:block;max-width:300px;width:100%;white-space:nowrap}.title-cut[data-v-5ee3beac],.title-vertical-cut[data-v-5ee3beac]{overflow:hidden;text-overflow:ellipsis}.title-vertical-cut[data-v-5ee3beac]{display:-webkit-box;-webkit-box-orient:vertical}.title-bordered[data-v-5ee3beac]{padding:14px;margin:0 0 20px;border-left:5px solid #3970e5;background-color:hsla(0,0%,96.1%,.96078)}.container-default[data-v-5ee3beac],.library__container[data-v-5ee3beac]{width:100%;max-width:1300px;padding:0 40px;margin:40px auto}@media only screen and (max-width:640px){.container-default[data-v-5ee3beac],.library__container[data-v-5ee3beac]{padding:0 20px;margin:20px auto}}.library[data-v-5ee3beac]{width:100%}[dir=ltr] .library__disaster[data-v-5ee3beac]{text-align:left}[dir=rtl] .library__disaster[data-v-5ee3beac]{text-align:right}.library__disaster[data-v-5ee3beac]{font-size:30px}.library__title[data-v-5ee3beac]{display:flex;align-items:center}.library__icon[data-v-5ee3beac]{cursor:pointer}.library__icon[data-v-5ee3beac]:hover{color:red}.library__tabs[data-v-5ee3beac]{display:flex;flex-wrap:wrap;overflow-x:visible;overflow-x:initial;overflow-y:visible;overflow-y:initial;justify-content:center;height:100%;align-items:center;margin:40px auto}.library__image[data-v-5ee3beac]{width:80px;height:120px;margin-right:20px}.library__th[data-v-5ee3beac]:nth-of-type(4),.library__th[data-v-5ee3beac]:nth-of-type(5){text-align:center}.library__td[data-v-5ee3beac]{padding:8px 0}.library__td[data-v-5ee3beac]:nth-of-type(4),.library__td[data-v-5ee3beac]:nth-of-type(5){text-align:center}.library__tab[data-v-5ee3beac]{height:auto!important;text-transform:uppercase}@media only screen and (max-width:992px){.library__tab[data-v-5ee3beac]{flex-grow:0}}@media only screen and (max-width:480px){.library__tab[data-v-5ee3beac]{width:100%;margin:0 0 14px}}[dir=ltr] .library__tab-item[data-v-5ee3beac]{text-align:left}[dir=rtl] .library__tab-item[data-v-5ee3beac]{text-align:right}.library__tab-item[data-v-5ee3beac]{display:block;padding:0!important;margin:0 40px 0 0;height:auto!important;line-height:normal;color:#3970e5!important;text-align:center;font-weight:600;line-height:34px}@media only screen and (max-width:480px){.library__tab-item[data-v-5ee3beac]{margin:0}}.library__tab-item.active[data-v-5ee3beac],.library__tab-item[data-v-5ee3beac]:focus{background-color:transparent!important;background-color:initial!important}.library__tab-item.active[data-v-5ee3beac]{border-bottom:3px solid #3970e5}.library__tab-item_main[data-v-5ee3beac]{line-height:normal}.library__tab-item_main.active[data-v-5ee3beac]{color:#ffa300!important;font-size:26px;font-weight:800;border-bottom:none}.library__link[data-v-5ee3beac]{color:#555}.library__link[data-v-5ee3beac]:hover{text-decoration:underline}.library__link_title[data-v-5ee3beac]{font-weight:600;font-size:16px;color:#3970e5}.library__link_title[data-v-5ee3beac]:hover{text-decoration:none;text-decoration:initial;color:#ffa300}@media only screen and (max-width:480px){.library__link_title[data-v-5ee3beac]{font-size:13px}}",""]),t.exports=e},421:function(t,e,r){"use strict";r.r(e);r(58),r(78),r(36),r(177),r(16),r(37),r(45),r(11);var n=r(0),l=r(24),c=r.n(l),o=r(9),d=r.n(o),_={name:"Library",metaInfo:{title:"Otaku Library - Library"},layout:r(171).default,data:function(){return{buffer:[],tabs:[],typeTabs:[{title:"anime"},{title:"manga"}],animeTabs:[{title:"Plan to Watch",status:"planned",type:"anime"},{title:"Completed",status:"completed",type:"anime"},{title:"Currently Watching",status:"process",type:"anime"},{title:"On Hold",status:"hold",type:"anime"},{title:"Dropped",status:"dropped",type:"anime"}],mangaTabs:[{title:"Plan to Read",status:"planned",type:"manga"},{title:"Completed",status:"completed",type:"manga"},{title:"Currently Reading",status:"process",type:"manga"},{title:"On Hold",status:"hold",type:"manga"},{title:"Dropped",status:"dropped",type:"manga"}]}},created:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fetchData(t.$route.params.type,t.$route.params.status),"anime"===t.$route.params.type?t.tabs=t.animeTabs:"manga"===t.$route.params.type&&(t.tabs=t.mangaTabs);case 2:case"end":return e.stop()}}),e)})))()},methods:{getUid:function(){var t=c.a.auth().currentUser;return t?t.uid:null},toogleTab:function(t,e){this.$router.push("/library/".concat(t,"/").concat(e)),"anime"===t?this.animeTabBuffer=e:"manga"===t&&(this.mangaTabBuffer=e)},fetchData:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l=r.getUid(),n.next=4,c.a.database().ref("/users/".concat(l,"/")).on("value",(function(data){var n=Object.entries(data.val()["".concat(t)]).filter((function(t){return t[1].status===e})).map((function(e){return"anime"===t?d.a.loadAnime(e[0]):d.a.loadManga(e[0])}));Promise.all(n).then((function(t){return r.buffer=t}))}));case 4:n.sent,n.next=10;break;case 7:throw n.prev=7,n.t0=n.catch(0),n.t0.message;case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()},removeValue:function(t,e){var r=this;return Object(n.a)(regeneratorRuntime.mark((function n(){var l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,l=r.getUid(),n.next=4,c.a.database().ref("/users/".concat(l,"/").concat(t,"/").concat(e,"/")).set({status:!1});case 4:n.next=9;break;case 6:throw n.prev=6,n.t0=n.catch(0),n.t0.message;case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))()}}},y=(r(389),r(3)),component=Object(y.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"library"},[r("div",{staticClass:"library__container"},[r("ul",{staticClass:"library__tabs library__tabs_main"},t._l(t.typeTabs,(function(e,n){return r("li",{key:n,staticClass:"library__tab tab"},[r("a",{staticClass:"library__tab-item library__tab-item_main",class:{active:t.$route.params.type===e.title},on:{click:function(r){return t.toogleTab(e.title,"planned")}}},[t._v(t._s(e.title))])])})),0),r("div",{staticClass:"library__anime"},[r("ul",{staticClass:"library__tabs"},t._l(t.tabs,(function(e,n){return r("li",{key:n,staticClass:"library__tab tab"},[r("a",{staticClass:"library__tab-item",class:{active:t.$route.params.status===e.status},on:{click:function(r){return t.toogleTab(e.type,e.status)}}},[t._v(t._s(e.title))])])})),0),r("table",{staticClass:"library__table"},[t._m(0),r("tbody",{staticClass:"library__tbody"},t._l(t.buffer,(function(data,e){return r("tr",{key:e,staticClass:"library__tr"},[r("td",{staticClass:"library__td"},[t._v(t._s(e+1))]),r("td",{staticClass:"library__td"},[r("img",{staticClass:"library__image",attrs:{src:data.image_url}})]),r("td",{staticClass:"library__td"},[r("a",{staticClass:"library__link library__link_title"},[t._v(t._s(data.title))])]),r("td",{staticClass:"library__td"},[t._v(t._s(data.type))]),r("td",{staticClass:"library__td"},[r("i",{staticClass:"library__icon material-icons",on:{click:function(e){return t.removeValue(t.$route.params.type,data.mal_id)}}},[t._v("clear")])])])})),0)])])])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("thead",{staticClass:"library__thead"},[e("tr",{staticClass:"library__tr"},[e("th",{staticClass:"library__th"},[this._v("#")]),e("th",{staticClass:"library__th"},[this._v("Image")]),e("th",{staticClass:"library__th"},[this._v("Title")]),e("th",{staticClass:"library__th"},[this._v("Type")]),e("th",{staticClass:"library__th"},[this._v("Delete")])])])}],!1,null,"5ee3beac",null);e.default=component.exports}}]);