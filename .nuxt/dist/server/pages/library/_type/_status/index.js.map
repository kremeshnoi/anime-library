{"version":3,"file":"pages/library/_type/_status/index.js","sources":["webpack:///./pages/library/_type/_status/index.vue?3616","webpack:///./pages/library/_type/_status/index.vue?833b","webpack:///./pages/library/_type/_status/index.vue?70a0","webpack:///./pages/library/_type/_status/index.vue?154a","webpack:///./pages/library/_type/_status/index.vue","webpack:///./pages/library/_type/_status/index.vue?5f44","webpack:///./pages/library/_type/_status/index.vue?ae77"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5ee3beac&lang=sass&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"d84ba9a0\", content, true, context)\n};","export * from \"-!../../../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=5ee3beac&lang=sass&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \"[dir=ltr] .library__title[data-v-5ee3beac],[dir=ltr] .title-bordered[data-v-5ee3beac],[dir=ltr] .title-default[data-v-5ee3beac]{text-align:left}[dir=rtl] .library__title[data-v-5ee3beac],[dir=rtl] .title-bordered[data-v-5ee3beac],[dir=rtl] .title-default[data-v-5ee3beac]{text-align:right}.library__title[data-v-5ee3beac],.title-bordered[data-v-5ee3beac],.title-default[data-v-5ee3beac]{color:#1f1f23;width:100%;height:48px;font-size:16px;font-weight:700;display:flex;align-items:center;text-transform:uppercase;padding:14px 0 0}.title-cut[data-v-5ee3beac]{display:block;max-width:300px;width:100%;white-space:nowrap}.title-cut[data-v-5ee3beac],.title-vertical-cut[data-v-5ee3beac]{overflow:hidden;text-overflow:ellipsis}.title-vertical-cut[data-v-5ee3beac]{display:-webkit-box;-webkit-box-orient:vertical}.title-bordered[data-v-5ee3beac]{padding:14px;margin:0 0 20px;border-left:5px solid #3970e5;background-color:hsla(0,0%,96.1%,.96078)}.container-default[data-v-5ee3beac],.library__container[data-v-5ee3beac]{width:100%;max-width:1300px;padding:0 40px;margin:40px auto}@media only screen and (max-width:640px){.container-default[data-v-5ee3beac],.library__container[data-v-5ee3beac]{padding:0 20px;margin:20px auto}}.library[data-v-5ee3beac]{width:100%}[dir=ltr] .library__disaster[data-v-5ee3beac]{text-align:left}[dir=rtl] .library__disaster[data-v-5ee3beac]{text-align:right}.library__disaster[data-v-5ee3beac]{font-size:30px}.library__title[data-v-5ee3beac]{display:flex;align-items:center}.library__icon[data-v-5ee3beac]{cursor:pointer}.library__icon[data-v-5ee3beac]:hover{color:red}.library__tabs[data-v-5ee3beac]{display:flex;flex-wrap:wrap;overflow-x:visible;overflow-x:initial;overflow-y:visible;overflow-y:initial;justify-content:center;height:100%;align-items:center;margin:40px auto}.library__image[data-v-5ee3beac]{width:80px;height:120px;margin-right:20px}.library__th[data-v-5ee3beac]:nth-of-type(4),.library__th[data-v-5ee3beac]:nth-of-type(5){text-align:center}.library__td[data-v-5ee3beac]{padding:8px 0}.library__td[data-v-5ee3beac]:nth-of-type(4),.library__td[data-v-5ee3beac]:nth-of-type(5){text-align:center}.library__tab[data-v-5ee3beac]{height:auto!important;text-transform:uppercase}@media only screen and (max-width:992px){.library__tab[data-v-5ee3beac]{flex-grow:0}}@media only screen and (max-width:480px){.library__tab[data-v-5ee3beac]{width:100%;margin:0 0 14px}}[dir=ltr] .library__tab-item[data-v-5ee3beac]{text-align:left}[dir=rtl] .library__tab-item[data-v-5ee3beac]{text-align:right}.library__tab-item[data-v-5ee3beac]{display:block;padding:0!important;margin:0 40px 0 0;height:auto!important;line-height:normal;color:#3970e5!important;text-align:center;font-weight:600;line-height:34px}@media only screen and (max-width:480px){.library__tab-item[data-v-5ee3beac]{margin:0}}.library__tab-item.active[data-v-5ee3beac],.library__tab-item[data-v-5ee3beac]:focus{background-color:transparent!important;background-color:initial!important}.library__tab-item.active[data-v-5ee3beac]{border-bottom:3px solid #3970e5}.library__tab-item_main[data-v-5ee3beac]{line-height:normal}.library__tab-item_main.active[data-v-5ee3beac]{color:#ffa300!important;font-size:26px;font-weight:800;border-bottom:none}.library__link[data-v-5ee3beac]{color:#555}.library__link[data-v-5ee3beac]:hover{text-decoration:underline}.library__link_title[data-v-5ee3beac]{font-weight:600;font-size:16px;color:#3970e5}.library__link_title[data-v-5ee3beac]:hover{text-decoration:none;text-decoration:initial;color:#ffa300}@media only screen and (max-width:480px){.library__link_title[data-v-5ee3beac]{font-size:13px}}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"library\"},[_vm._ssrNode(\"<div class=\\\"library__container\\\" data-v-5ee3beac><ul class=\\\"library__tabs library__tabs_main\\\" data-v-5ee3beac>\"+(_vm._ssrList((_vm.typeTabs),function(tab,index){return (\"<li class=\\\"library__tab tab\\\" data-v-5ee3beac><a\"+(_vm._ssrClass(\"library__tab-item library__tab-item_main\",{ active: _vm.$route.params.type === tab.title }))+\" data-v-5ee3beac>\"+_vm._ssrEscape(_vm._s(tab.title))+\"</a></li>\")}))+\"</ul><div class=\\\"library__anime\\\" data-v-5ee3beac><ul class=\\\"library__tabs\\\" data-v-5ee3beac>\"+(_vm._ssrList((_vm.tabs),function(tab,index){return (\"<li class=\\\"library__tab tab\\\" data-v-5ee3beac><a\"+(_vm._ssrClass(\"library__tab-item\",{ active: _vm.$route.params.status === tab.status }))+\" data-v-5ee3beac>\"+_vm._ssrEscape(_vm._s(tab.title))+\"</a></li>\")}))+\"</ul><table class=\\\"library__table\\\" data-v-5ee3beac><thead class=\\\"library__thead\\\" data-v-5ee3beac><tr class=\\\"library__tr\\\" data-v-5ee3beac><th class=\\\"library__th\\\" data-v-5ee3beac>#</th><th class=\\\"library__th\\\" data-v-5ee3beac>Image</th><th class=\\\"library__th\\\" data-v-5ee3beac>Title</th><th class=\\\"library__th\\\" data-v-5ee3beac>Type</th><th class=\\\"library__th\\\" data-v-5ee3beac>Delete</th></tr></thead><tbody class=\\\"library__tbody\\\" data-v-5ee3beac>\"+(_vm._ssrList((_vm.buffer),function(data,index){return (\"<tr class=\\\"library__tr\\\" data-v-5ee3beac><td class=\\\"library__td\\\" data-v-5ee3beac>\"+_vm._ssrEscape(_vm._s(index + 1))+\"</td><td class=\\\"library__td\\\" data-v-5ee3beac><img\"+(_vm._ssrAttr(\"src\",data.image_url))+\" class=\\\"library__image\\\" data-v-5ee3beac></td><td class=\\\"library__td\\\" data-v-5ee3beac><a class=\\\"library__link library__link_title\\\" data-v-5ee3beac>\"+_vm._ssrEscape(_vm._s(data.title))+\"</a></td><td class=\\\"library__td\\\" data-v-5ee3beac>\"+_vm._ssrEscape(_vm._s(data.type))+\"</td><td class=\\\"library__td\\\" data-v-5ee3beac><i class=\\\"library__icon material-icons\\\" data-v-5ee3beac>clear</i></td></tr>\")}))+\"</tbody></table></div></div>\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport firebase from 'firebase/app';\nimport jikanjs from 'jikanjs/lib/jikan.js';\nimport layoutMiddleware from '@/middleware/layoutMiddleware';\n\nexport default {\n  name: 'Library',\n  metaInfo: {\n    title: 'Otaku Library - Library',\n  },\n  layout: layoutMiddleware,\n  data() {\n    return {\n      buffer: [],\n      tabs: [],\n      typeTabs: [{ title: 'anime' }, { title: 'manga' }],\n      animeTabs: [\n        { title: 'Plan to Watch', status: 'planned', type: 'anime' },\n        { title: 'Completed', status: 'completed', type: 'anime' },\n        { title: 'Currently Watching', status: 'process', type: 'anime' },\n        { title: 'On Hold', status: 'hold', type: 'anime' },\n        { title: 'Dropped', status: 'dropped', type: 'anime' },\n      ],\n      mangaTabs: [\n        { title: 'Plan to Read', status: 'planned', type: 'manga' },\n        { title: 'Completed', status: 'completed', type: 'manga' },\n        { title: 'Currently Reading', status: 'process', type: 'manga' },\n        { title: 'On Hold', status: 'hold', type: 'manga' },\n        { title: 'Dropped', status: 'dropped', type: 'manga' },\n      ],\n    };\n  },\n  async created() {\n    this.fetchData(this.$route.params.type, this.$route.params.status);\n    if (this.$route.params.type === 'anime') this.tabs = this.animeTabs;\n    else if (this.$route.params.type === 'manga') this.tabs = this.mangaTabs;\n  },\n  methods: {\n    getUid() {\n      const user = firebase.auth().currentUser;\n      return user ? user.uid : null;\n    },\n    toogleTab(type, status) {\n      this.$router.push(`/library/${type}/${status}`);\n      if (type === 'anime') this.animeTabBuffer = status;\n      else if (type === 'manga') this.mangaTabBuffer = status;\n    },\n    async fetchData(type, status) {\n      try {\n        const uid = this.getUid();\n        const res = await firebase\n          .database()\n          .ref(`/users/${uid}/`)\n\n          .on('value', (data) => {\n            const obj = Object.entries(data.val()[`${type}`])\n              .filter((d) => d[1].status === status)\n              .map((d) =>\n                type === 'anime'\n                  ? jikanjs.loadAnime(d[0])\n                  : jikanjs.loadManga(d[0])\n              );\n\n            Promise.all(obj).then((values) => (this.buffer = values));\n          });\n      } catch (error) {\n        throw error.message;\n      }\n    },\n    async removeValue(type, id) {\n      try {\n        const uid = this.getUid();\n        await firebase.database().ref(`/users/${uid}/${type}/${id}/`).set({\n          status: false,\n        });\n      } catch (error) {\n        throw error.message;\n      }\n    }\n  }\n};\n\n","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--2-0!../../../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=5ee3beac&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=5ee3beac&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"5ee3beac\",\n  \"6056775e\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAhBA;AAmBA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAKA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AA1CA;AAhCA;;AC3DA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}