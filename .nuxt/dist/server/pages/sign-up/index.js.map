{"version":3,"file":"pages/sign-up/index.js","sources":["webpack:///./pages/sign-up/index.vue?fce4","webpack:///./pages/sign-up/index.vue?e5ec","webpack:///./pages/sign-up/index.vue?e78b","webpack:///./pages/sign-up/index.vue?b551","webpack:///./pages/sign-up/index.vue","webpack:///./pages/sign-up/index.vue?23ff","webpack:///./pages/sign-up/index.vue?66b7"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2e762a78&lang=sass&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"512f5b96\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=2e762a78&lang=sass&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".btn.shadow-btn[data-v-2e762a78],.btn.sign-up-form__button[data-v-2e762a78]{box-shadow:2px 2px 2px rgba(0,0,0,.75)}.btn.hover-btn[data-v-2e762a78]:hover,.btn.sign-up-form__button[data-v-2e762a78]:hover{filter:brightness(100%)}.btn.focus-btn[data-v-2e762a78]:focus,.btn.sign-up-form__button[data-v-2e762a78]:focus{background:#26a69a;box-shadow:1px 1px 1px rgba(0,0,0,.75)}.sign-up[data-v-2e762a78]{top:0;left:0;right:0;bottom:0;margin:auto;position:fixed;max-width:400px;max-height:640px;border-radius:4px;padding:20px;background-color:#fff;box-shadow:10px 10px 5px 0 rgba(0,0,0,.75);display:flex;justify-content:center;align-items:center;flex-direction:column}@media only screen and (max-width:560px){.sign-up[data-v-2e762a78]{max-width:100%;max-height:100%;border-radius:0}}.sign-up__title[data-v-2e762a78]{font-size:22px;padding:30px 0}.sign-up-form[data-v-2e762a78]{width:100%;text-align:center}.sign-up-form__input[data-v-2e762a78]{width:auto!important;padding:0 0 0 20px!important}.sign-up-form__row[data-v-2e762a78]{max-width:304px;margin:20px auto}.sign-up-form__row_center[data-v-2e762a78]{align-items:center}.sign-up-form__field[data-v-2e762a78],.sign-up-form__row_center[data-v-2e762a78]{display:flex;justify-content:center;flex-direction:column}.sign-up-form__field[data-v-2e762a78]{align-items:stretch}.sign-up-form__helper[data-v-2e762a78]{width:100%}.preloader-wrapper[data-v-2e762a78]{display:none;right:20px!important;width:30px!important;bottom:20px!important;height:30px!important;position:absolute!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('client-only',[_c('div',{staticClass:\"sign-up\"},[_c('h1',{staticClass:\"sign-up__title\"},[_vm._v(\"Join Otaku Library!\")]),_c('form',{staticClass:\"sign-up__form sign-up-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.validate($event)}}},[_c('div',{staticClass:\"sign-up-form__row\"},[_c('div',{staticClass:\"sign-up-form__field input-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.email),expression:\"email\",modifiers:{\"trim\":true}}],staticClass:\"sign-up-form__input\",class:{ invalid: (_vm.$v.email.$dirty && !_vm.$v.email.required) || (_vm.$v.email.$dirty && !_vm.$v.email.email) },attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"username\",\"autocomplete\":\"username\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),(_vm.$v.email.$dirty && !_vm.$v.email.required)?_c('span',{staticClass:\"sign-up-form__helper helper-text\",attrs:{\"data-error\":\"The field is empty\"}}):(_vm.$v.email.$dirty && !_vm.$v.email.email)?_c('span',{staticClass:\"sign-up-form__helper helper-text\",attrs:{\"data-error\":\"Incorrect email\"}}):_vm._e()])]),_c('div',{staticClass:\"sign-up-form__row\"},[_c('div',{staticClass:\"sign-up-form__field input-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.username),expression:\"username\",modifiers:{\"trim\":true}}],staticClass:\"sign-up-form__input\",class:{ invalid: (_vm.$v.username.$dirty && !_vm.$v.username.required) || (_vm.$v.username.$dirty && !_vm.$v.username.minLength) },attrs:{\"id\":\"username\",\"type\":\"text\",\"autocomplete\":\"off\"},domProps:{\"value\":(_vm.username)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.username=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"username\"}},[_vm._v(\"Username\")]),(_vm.$v.username.$dirty && !_vm.$v.username.required)?_c('span',{staticClass:\"sign-up-form__helper helper-text\",attrs:{\"data-error\":\"The field is empty\"}}):(_vm.$v.username.$dirty && !_vm.$v.username.minLength)?_c('span',{staticClass:\"sign-up-form__helper helper-text\",attrs:{\"data-error\":\"Username is too short\"}}):_vm._e()])]),_c('div',{staticClass:\"sign-up-form__row\"},[_c('div',{staticClass:\"sign-up-form__field input-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.password),expression:\"password\",modifiers:{\"trim\":true}}],staticClass:\"sign-up-form__input\",class:{ invalid: (_vm.$v.password.$dirty && !_vm.$v.password.required) || (_vm.$v.password.$dirty && !_vm.$v.password.minLength) },attrs:{\"id\":\"password\",\"type\":\"password\",\"name\":\"password\",\"autocomplete\":\"current-password\"},domProps:{\"value\":(_vm.password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.password=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{attrs:{\"for\":\"password\"}},[_vm._v(\"Password\")]),(_vm.$v.password.$dirty && !_vm.$v.password.required)?_c('span',{staticClass:\"sign-up-form__field helper-text\",attrs:{\"data-error\":\"The field is empty\"}}):(_vm.$v.password.$dirty && !_vm.$v.password.minLength)?_c('span',{staticClass:\"sign-up-form__field helper-text\",attrs:{\"data-error\":\"Password is too short\"}}):_vm._e()])]),_c('div',{staticClass:\"sign-up-form__row\"},[_c('router-link',{attrs:{\"to\":\"/sign-in\"}},[_vm._v(\"Already have an account?\")])],1),_c('center',{staticClass:\"sign-up__center\"},[_c('div',{staticClass:\"preloader-wrapper big active\"},[_c('div',{staticClass:\"spinner-layer spinner-blue-only\"},[_c('div',{staticClass:\"circle-clipper left\"},[_c('div',{staticClass:\"circle\"})]),_c('div',{staticClass:\"gap-patch\"},[_c('div',{staticClass:\"circle\"})]),_c('div',{staticClass:\"circle-clipper right\"},[_c('div',{staticClass:\"circle\"})])])]),_c('vue-recaptcha',{ref:\"recaptcha\",staticClass:\"recaptcha\",attrs:{\"size\":\"invisible\",\"sitekey\":\"6LeKfEgaAAAAAGqtaoHk9BjYE18zHwoeOmoOCkhq\"},on:{\"verify\":_vm.submit,\"expired\":_vm.onCaptchaExpired}}),_c('div',{staticClass:\"sign-up-form__row\"},[_c('button',{staticClass:\"SignUp-button btn\",attrs:{\"type\":\"submit\",\"name\":\"submitSignUp\"}},[_vm._v(\"Create Account\")])])],1)],1),_c('div',{staticClass:\"sign-up__link-back\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Back to Homepage\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport { mapActions } from 'vuex';\nimport VueRecaptcha from 'vue-recaptcha';\nimport layoutMiddleware from '@/middleware/layoutMiddleware';\nimport { email, required, minLength } from 'vuelidate/lib/validators';\n\nexport default {\n  name: 'SignUp',\n  metaInfo: {\n    title: 'Otaku Library - Sign Up'\n  },\n  layout: layoutMiddleware,\n  components: {\n    VueRecaptcha\n  },\n  data() {\n    return {\n      email: '',\n      username: '',\n      password: '',\n      recaptcha: null\n    }\n  },\n  validations: {\n    email: { email, required },\n    username: { required, minLength: minLength(3) },\n    password: { required, minLength: minLength(5) }\n  },\n  methods: {\n    ...mapActions({\n      signUp: 'auth/signUp'\n    }),\n    async submit() {\n      const signUpData = {\n        email: this.email,\n        password: this.password,\n        username: this.username\n      };\n\n      if (window.screen.width <= 560) {\n        document.querySelector('.preloader-wrapper').style.display = 'block';\n      } else {\n        document.querySelector('.auth-progress').style.display = 'block';\n      }\n      await this.signUp(signUpData);\n    },\n    validate () {\n      if (this.$v.$invalid) {\n        return this.$v.$touch();\n      }\n      this.$refs.recaptcha.execute();\n    },\n    onCaptchaExpired () {\n      this.$refs.recaptcha.reset()\n    }\n  }\n};\n\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=2e762a78&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=2e762a78&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"2e762a78\",\n  \"65a57942\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAHA;AAKA;AAEA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAHA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AA3BA;AAtBA;;ACzGA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}