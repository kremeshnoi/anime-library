{"version":3,"file":"pages/recovery/index.js","sources":["webpack:///./pages/recovery/index.vue?a48b","webpack:///./pages/recovery/index.vue?891f","webpack:///./pages/recovery/index.vue?8386","webpack:///./pages/recovery/index.vue?5550","webpack:///./pages/recovery/index.vue","webpack:///./pages/recovery/index.vue?2a32","webpack:///./pages/recovery/index.vue?9d90"],"sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b2db367a&lang=sass&scoped=true&\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add CSS to SSR context\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesServer.js\").default\nmodule.exports.__inject__ = function (context) {\n  add(\"6abc767a\", content, true, context)\n};","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--6-oneOf-1-3!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=b2db367a&lang=sass&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".btn.recovery-form__button[data-v-b2db367a],.btn.shadow-btn[data-v-b2db367a]{box-shadow:2px 2px 2px rgba(0,0,0,.75)}.btn.hover-btn[data-v-b2db367a]:hover,.btn.recovery-form__button[data-v-b2db367a]:hover{filter:brightness(100%)}.btn.focus-btn[data-v-b2db367a]:focus,.btn.recovery-form__button[data-v-b2db367a]:focus{background:#26a69a;box-shadow:1px 1px 1px rgba(0,0,0,.75)}.recovery[data-v-b2db367a]{top:0;left:0;right:0;bottom:0;margin:auto;position:fixed;max-width:400px;max-height:640px;border-radius:4px;padding:20px;background-color:#fff;box-shadow:10px 10px 5px 0 rgba(0,0,0,.75);display:flex;justify-content:center;align-items:center;flex-direction:column}@media only screen and (max-width:560px){.recovery[data-v-b2db367a]{max-width:100%;max-height:100%;border-radius:0}}.recovery__title[data-v-b2db367a]{font-size:22px;padding:30px 0}.recovery-form[data-v-b2db367a]{width:100%;text-align:center}.recovery-form__row[data-v-b2db367a]{max-width:304px;margin:20px auto}.recovery-form__row_center[data-v-b2db367a]{align-items:center}.recovery-form__field[data-v-b2db367a],.recovery-form__row_center[data-v-b2db367a]{display:flex;justify-content:center;flex-direction:column}.recovery-form__field[data-v-b2db367a]{align-items:stretch}.recovery-form__input[data-v-b2db367a]{width:auto!important;padding:0 0 0 20px!important}.recovery-form__helper[data-v-b2db367a]{width:100%}.preloader-wrapper[data-v-b2db367a]{display:none;right:20px!important;width:30px!important;bottom:20px!important;height:30px!important;position:absolute!important}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('client-only',[_c('div',{staticClass:\"recovery\"},[_c('h1',{staticClass:\"recovery__title\"},[_vm._v(\"Reset your password\")]),_c('form',{staticClass:\"recovery__form recovery-form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.validate($event)}}},[_c('div',{staticClass:\"recovery-form__row\"},[_c('div',{staticClass:\"recovery-form__field input-field\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model.trim\",value:(_vm.email),expression:\"email\",modifiers:{\"trim\":true}}],staticClass:\"recovery-form__input\",class:{ invalid: (_vm.$v.email.$dirty && !_vm.$v.email.required) || (_vm.$v.email.$dirty && !_vm.$v.email.email) },attrs:{\"id\":\"email\",\"type\":\"email\",\"name\":\"email\"},domProps:{\"value\":(_vm.email)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.email=$event.target.value.trim()},\"blur\":function($event){return _vm.$forceUpdate()}}}),_c('label',{staticClass:\"recovery-form__label\",attrs:{\"for\":\"email\"}},[_vm._v(\"Email\")]),(_vm.$v.email.$dirty && !_vm.$v.email.required)?_c('span',{staticClass:\"recovery-form__helper helper-text\",attrs:{\"data-error\":\"The field is empty\"}}):(_vm.$v.email.$dirty && !_vm.$v.email.email)?_c('span',{staticClass:\"recovery-form__helper helper-text\",attrs:{\"data-error\":\"Incorrect email\"}}):_vm._e()])]),_c('center',{staticClass:\"recovery__center\"},[_c('div',{staticClass:\"preloader-wrapper big active\"},[_c('div',{staticClass:\"spinner-layer spinner-blue-only\"},[_c('div',{staticClass:\"circle-clipper left\"},[_c('div',{staticClass:\"circle\"})]),_c('div',{staticClass:\"gap-patch\"},[_c('div',{staticClass:\"circle\"})]),_c('div',{staticClass:\"circle-clipper right\"},[_c('div',{staticClass:\"circle\"})])])]),_c('vue-recaptcha',{ref:\"recaptcha\",staticClass:\"recaptcha\",attrs:{\"size\":\"invisible\",\"sitekey\":\"6LeKfEgaAAAAAGqtaoHk9BjYE18zHwoeOmoOCkhq\"},on:{\"verify\":_vm.submit,\"expired\":_vm.onCaptchaExpired}}),_c('div',{staticClass:\"recovery-form__row\"},[_c('button',{staticClass:\"recovery-form_button btn\",attrs:{\"type\":\"submit\",\"name\":\"submitRecover\"}},[_vm._v(\"Submit\")])])],1)],1),_c('div',{staticClass:\"recovery__link-back\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Back to Homepage\")])],1)])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\nimport VueRecaptcha from 'vue-recaptcha';\nimport { email, required } from 'vuelidate/lib/validators';\nimport layoutMiddleware from '@/middleware/layoutMiddleware';\n\nexport default {\n  name: 'Recovery',\n  metaInfo: {\n    title: 'Otaku Library - Password recovery'\n  },\n  layout: layoutMiddleware,\n  components: {\n    VueRecaptcha\n  },\n  data() {\n    return {\n    email: '',\n    recaptcha: null\n    }\n  },\n  validations: {\n    email: { email, required }\n  },\n  methods: {\n    async submit() {\n      const RecoveryData = {\n        email: this.email\n      };\n\n      if (window.screen.width <= 560) {\n        document.querySelector('.preloader-wrapper').style.display = 'block';\n      } else {\n        document.querySelector('.auth-progress').style.display = 'block';\n      }\n      await this.$store.dispatch('auth/recoverPassword', RecoveryData);\n    },\n    validate () {\n      if (this.$v.$invalid) {\n        return this.$v.$touch();\n      }\n      this.$refs.recaptcha.execute();\n    },\n    onCaptchaExpired () {\n      this.$refs.recaptcha.reset()\n    }\n  }\n};\n\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=b2db367a&scoped=true&lang=pug&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  var style0 = require(\"./index.vue?vue&type=style&index=0&id=b2db367a&lang=sass&scoped=true&\")\nif (style0.__inject__) style0.__inject__(context)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  \"b2db367a\",\n  \"346310b4\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACVA;AAAA;AAAA;AAAA;;;;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACNA;AACA;AACA;;;;;;;;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AACA;AADA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAtBA;AAlBA;;AC7DA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}